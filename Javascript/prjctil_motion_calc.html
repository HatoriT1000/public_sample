<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projectile_motion_calc</title>
</head>
<body>
    <form>
            <!-- 初速度，投射角をテキストボックスに入力してもらう -->
            <div>
                <div>初速度:<input type="number" class="box" name="velocity0">[m/s]</div>
                <div>投射角:<input type="number" class="box" name="angle">°</div>
            
            <!-- 計算ボタンを押すとcalc関数を呼び出し計算させる -->
            <div>
                <p><input type="button" class="calc-btn" 
                    onclick="calc(velocity0.value, angle.value);" value="計算"></p>
            </div>
    </form>

    <!-- 計算した結果はspanタグのid拾わせてtextContextで表示 -->
    <div>重力加速度は9.80665[m/s^2]に設定しています</div><br>
    <div>X方向初速度:<span id="velocityX0"></span>[m/s]</div><br>
    <div>Y方向初速度:<span id="velocityY0"></span>[m/s]</div><br>
    <div>飛翔時間t:<span id="t"></span>[min]</div><br>
    <div>到達距離X:<span id="X"></span>[m]</div><br>
    <div>到達高度h:<span id="h"></span>[m]</div><br>
</body>
</html>

<script>

    // calc関数を定義し，もろもろの計算をさせる
    // 重力加速度は，9.80665で計算させてる

    var G=9.80665; 

    function calc(velocity, angle) {
        // 計算精度は小数点4桁を四捨五入し3桁までに指定。
        const rad = 2*Math.PI*(angle/360);

        const velocityX0 = document.getElementById('velocityX0').textContent 
        = (velocity*Math.cos(rad)).toFixed(3);

        const velocityY0 = document.getElementById('velocityY0').textContent 
        = (velocity*Math.sin(rad)).toFixed(3);

        const half_t = velocityY0/G;
        const t = document.getElementById('t').textContent 
        = (half_t*2).toFixed(3)

        const X = document.getElementById('X').textContent 
        = (velocityX0*t).toFixed(3)

        const h = document.getElementById('h').textContent 
        = (velocityY0**2/(2*G)).toFixed(3)
    }
</script>